{"ast":null,"code":"import { OpportunityEngineService } from './services/opportunity-engine.service';\nimport { ContributionCalculatorService } from './services/contribution-calculator.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/opportunity-engine.service\";\nimport * as i2 from \"./services/contribution-calculator.service\";\nimport * as i3 from \"@angular/router\";\nexport class AppComponent {\n  constructor(opp, calc) {\n    this.opp = opp;\n    this.calc = calc;\n    this.step = 1;\n    this.battingText = '';\n    this.bowlingText = '';\n    this.amount = 2000;\n    this.players = [];\n  }\n  calculate() {\n    const battingPlayers = this.parseBatting(this.battingText);\n    const bowlingStats = this.parseBowling(this.bowlingText);\n    const playerMap = {};\n    // Add batting players\n    battingPlayers.forEach(p => {\n      playerMap[p.name] = {\n        ...p\n      };\n    });\n    // Add or update with bowling stats\n    bowlingStats.forEach(stat => {\n      if (playerMap[stat.name]) {\n        playerMap[stat.name].ballsBowled = stat.ballsBowled;\n        playerMap[stat.name].wickets = stat.wickets;\n        playerMap[stat.name].economy = stat.economy;\n      } else {\n        // Pure bowler\n        playerMap[stat.name] = {\n          name: stat.name,\n          battingPosition: 12,\n          // arbitrary high number\n          ballsFaced: 0,\n          runs: 0,\n          strikeRate: 0,\n          ballsBowled: stat.ballsBowled,\n          wickets: stat.wickets,\n          economy: stat.economy\n        };\n      }\n    });\n    this.players = Object.values(playerMap);\n    this.players = this.opp.calculate(this.players);\n    this.players = this.calc.calculate(this.players, this.amount);\n    this.step = 2;\n  }\n  parseBatting(text) {\n    const lines = text.split('\\n').map(l => l.trim()).filter(Boolean);\n    const players = [];\n    let bat = false;\n    for (const l of lines) {\n      if (l.startsWith('No Batsman')) {\n        bat = true;\n        continue;\n      }\n      if (l.startsWith('Extras')) bat = false;\n      if (bat && /^\\d+\\s/.test(l)) {\n        const p = l.split(/\\s+/);\n        let statusIndex = p.findIndex(s => ['c', 'b', 'not', 'run', 'lbw', 'st', 'hit', 'c&b', 'stumped', 'bowled', 'caught'].includes(s));\n        if (statusIndex === -1) statusIndex = p.length - 6;\n        const name = p.slice(1, statusIndex).join(' ').replace(/\\((RHB|LHB|AMB)\\)/g, '').trim();\n        players.push({\n          name: name,\n          battingPosition: +p[0],\n          ballsFaced: +p[p.length - 5],\n          runs: +p[p.length - 6],\n          strikeRate: +p[p.length - 1],\n          ballsBowled: 0,\n          wickets: 0,\n          economy: 0\n        });\n      }\n    }\n    return players;\n  }\n  parseBowling(text) {\n    const lines = text.split('\\n').map(l => l.trim()).filter(Boolean);\n    const stats = [];\n    let bowl = false;\n    for (const l of lines) {\n      if (l.startsWith('No Bowler')) {\n        bowl = true;\n        continue;\n      }\n      if (bowl && /^\\d+\\s/.test(l)) {\n        const p = l.split(/\\s+/);\n        let nameEnd = 1;\n        for (let i = 1; i < p.length; i++) {\n          if (/^\\d+(\\.\\d+)?$/.test(p[i])) {\n            nameEnd = i;\n            break;\n          }\n        }\n        const name = p.slice(1, nameEnd).join(' ');\n        const overs = p[nameEnd];\n        const wickets = +p[nameEnd + 3];\n        const eco = +p[p.length - 1];\n        const balls = this.toBalls(overs);\n        stats.push({\n          name,\n          ballsBowled: balls,\n          wickets,\n          economy: eco\n        });\n      }\n    }\n    return stats;\n  }\n  toBalls(o) {\n    if (!o.includes('.')) return +o * 6;\n    const [x, y] = o.split('.');\n    return +x * 6 + +y;\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AppComponent)(i0.ɵɵdirectiveInject(i1.OpportunityEngineService), i0.ɵɵdirectiveInject(i2.ContributionCalculatorService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      features: [i0.ɵɵProvidersFeature([OpportunityEngineService, ContributionCalculatorService])],\n      decls: 14,\n      vars: 0,\n      consts: [[1, \"container\"], [\"routerLink\", \"/\", 1, \"nav-btn\"], [\"routerLink\", \"/tutorial\", 1, \"nav-btn\"], [\"routerLink\", \"/details\", 1, \"nav-btn\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"header\")(2, \"h1\");\n          i0.ɵɵtext(3, \"Cricket Fee Distributor\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"p\");\n          i0.ɵɵtext(5, \"Calculate fair fee distribution based on player performance\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"nav\")(7, \"button\", 1);\n          i0.ɵɵtext(8, \"Calculator\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"button\", 2);\n          i0.ɵɵtext(10, \"Tutorial\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"button\", 3);\n          i0.ɵɵtext(12, \"Details\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(13, \"router-outlet\");\n          i0.ɵɵelementEnd();\n        }\n      },\n      dependencies: [i3.RouterOutlet, i3.RouterLink],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["OpportunityEngineService","ContributionCalculatorService","AppComponent","constructor","opp","calc","step","battingText","bowlingText","amount","players","calculate","battingPlayers","parseBatting","bowlingStats","parseBowling","playerMap","forEach","p","name","stat","ballsBowled","wickets","economy","battingPosition","ballsFaced","runs","strikeRate","Object","values","text","lines","split","map","l","trim","filter","Boolean","bat","startsWith","test","statusIndex","findIndex","s","includes","length","slice","join","replace","push","stats","bowl","nameEnd","i","overs","eco","balls","toBalls","o","x","y","i0","ɵɵdirectiveInject","i1","i2","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Users\\yash3\\Downloads\\cricket-fee-distributor-v2\\src\\app\\app.component.ts","C:\\Users\\yash3\\Downloads\\cricket-fee-distributor-v2\\src\\app\\app.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Player } from './models/player.model';\nimport { OpportunityEngineService } from './services/opportunity-engine.service';\nimport { ContributionCalculatorService } from './services/contribution-calculator.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers:[OpportunityEngineService,ContributionCalculatorService]\n})\nexport class AppComponent {\n\n  step = 1;\n  battingText = '';\n  bowlingText = '';\n  amount = 2000;\n  players:Player[] = [];\n\n  constructor(private opp:OpportunityEngineService,\n              private calc:ContributionCalculatorService){}\n\n  calculate(){\n    const battingPlayers = this.parseBatting(this.battingText);\n    const bowlingStats = this.parseBowling(this.bowlingText);\n    const playerMap: { [name: string]: Player } = {};\n\n    // Add batting players\n    battingPlayers.forEach(p => {\n      playerMap[p.name] = { ...p };\n    });\n\n    // Add or update with bowling stats\n    bowlingStats.forEach(stat => {\n      if (playerMap[stat.name]) {\n        playerMap[stat.name].ballsBowled = stat.ballsBowled;\n        playerMap[stat.name].wickets = stat.wickets;\n        playerMap[stat.name].economy = stat.economy;\n      } else {\n        // Pure bowler\n        playerMap[stat.name] = {\n          name: stat.name,\n          battingPosition: 12, // arbitrary high number\n          ballsFaced: 0,\n          runs: 0,\n          strikeRate: 0,\n          ballsBowled: stat.ballsBowled,\n          wickets: stat.wickets,\n          economy: stat.economy\n        };\n      }\n    });\n\n    this.players = Object.values(playerMap);\n    this.players = this.opp.calculate(this.players);\n    this.players = this.calc.calculate(this.players,this.amount);\n    this.step = 2;\n  }\n\n  parseBatting(text: string): Player[] {\n    const lines = text.split('\\n').map(l=>l.trim()).filter(Boolean);\n    const players:Player[]=[];\n    let bat=false;\n    for(const l of lines){\n      if(l.startsWith('No Batsman')){bat=true; continue;}\n      if(l.startsWith('Extras')) bat=false;\n      if(bat && /^\\d+\\s/.test(l)){\n        const p=l.split(/\\s+/);\n        let statusIndex = p.findIndex(s => ['c','b','not','run','lbw','st','hit','c&b','stumped','bowled','caught'].includes(s));\n        if(statusIndex === -1) statusIndex = p.length - 6;\n        const name = p.slice(1, statusIndex).join(' ').replace(/\\((RHB|LHB|AMB)\\)/g,'').trim();\n        players.push({\n          name: name,\n          battingPosition:+p[0],\n          ballsFaced:+p[p.length-5],\n          runs:+p[p.length-6],\n          strikeRate:+p[p.length-1],\n          ballsBowled:0,\n          wickets:0,\n          economy:0\n        });\n      }\n    }\n    return players;\n  }\n\n  parseBowling(text: string): {name: string, ballsBowled: number, wickets: number, economy: number}[] {\n    const lines = text.split('\\n').map(l=>l.trim()).filter(Boolean);\n    const stats: {name: string, ballsBowled: number, wickets: number, economy: number}[] = [];\n    let bowl=false;\n    for(const l of lines){\n      if(l.startsWith('No Bowler')){bowl=true; continue;}\n      if(bowl && /^\\d+\\s/.test(l)){\n        const p=l.split(/\\s+/);\n        let nameEnd = 1;\n        for(let i=1; i<p.length; i++){\n          if(/^\\d+(\\.\\d+)?$/.test(p[i])){ nameEnd = i; break; }\n        }\n        const name = p.slice(1, nameEnd).join(' ');\n        const overs = p[nameEnd];\n        const wickets = +p[nameEnd + 3];\n        const eco = +p[p.length-1];\n        const balls = this.toBalls(overs);\n        stats.push({name, ballsBowled: balls, wickets, economy: eco});\n      }\n    }\n    return stats;\n  }\n\n  toBalls(o:string):number{\n    if(!o.includes('.')) return +o*6;\n    const [x,y]=o.split('.');\n    return +x*6+ +y;\n  }\n}","<div class=\"container\">\n  <header>\n    <h1>Cricket Fee Distributor</h1>\n    <p>Calculate fair fee distribution based on player performance</p>\n    <nav>\n      <button class=\"nav-btn\" routerLink=\"/\">Calculator</button>\n      <button class=\"nav-btn\" routerLink=\"/tutorial\">Tutorial</button>\n      <button class=\"nav-btn\" routerLink=\"/details\">Details</button>\n    </nav>\n  </header>\n\n  <router-outlet></router-outlet>\n</div>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}